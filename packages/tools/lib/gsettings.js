// Generated by CoffeeScript 2.5.1
// # `nikita.tools.gsettings`

// GSettings configuration tool

// ## Example

// require('nikita').system.gsettings({
//   properties: {
//     'org.gnome.desktop.input-sources': 'xkb-options': '[\'ctrl:swap_lalt_lctl\']'
//   }
// })
module.exports = function({options}) {
  var key, path, properties, ref, results, value;
  if (options.argument != null) {
    options.properties = options.argument;
  }
  if (options.properties == null) {
    options.properties = {};
  }
  ref = options.properties;
  results = [];
  for (path in ref) {
    properties = ref[path];
    results.push((function() {
      var results1;
      results1 = [];
      for (key in properties) {
        value = properties[key];
        results1.push(this.system.execute(`gsettings get ${path} ${key} | grep -x "${value}" && exit 3
gsettings set ${path} ${key} "${value}"`, {
          code_skipped: 3
        }));
      }
      return results1;
    }).call(this));
  }
  return results;
};
